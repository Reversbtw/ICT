#!/bin/bash

# Проверка количества переданных аргументов
if [ "$#" -ne 2 ]; then
    echo "Использование: $0 <путь_к_директории> <количество_дней>"
    exit 1
fi

DIR="$1"
DAYS="$2"

# Проверка существования директории
if [ ! -d "$DIR" ]; then
    echo "Ошибка: директория '$DIR' не существует"
    exit 2
fi

# Проверка, что второй аргумент — число
if ! [[ "$DAYS" =~ ^[0-9]+$ ]]; then
    echo "Ошибка: количество дней должно быть положительным числом"
    exit 3
fi

# Удаление файлов старше указанного количества дней
find "$DIR" -type f -mtime +"$DAYS" -delete
